{%extends 'base.html' %}
{%load static%}
{% block title%} Publications {%endblock%}

{%block style%}     
<link rel="stylesheet" href="{% static 'css/style1.css' %}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css' rel='stylesheet'>
<body oncontextmenu='return false' class='snippet-body'>
{%endblock%}

{%block body%}
<body>
    <center>
        <h1> Filter papers <h1>
        <hr>
        <form method = 'GET' action = "{% url 'papers'%}">
            {% csrf_token %}

            <label for="search"><b>search</b></label>
            <input type="text"  name = 'search' {% if selected_search == ''%} value = '' {%else%} value = '{{selected_search}}'{% endif%} />


            <label for="year"><b>Year</b></label>
            <input type="text"  name = 'date'  {% if selected_date == ''%} value = '' {%else%} value = '{{selected_date}}'{% endif%}/>
     
            <label for="type"><b>type</b></label>
            <select id="type" name="type">
            <option {% if selected_type == ''%} selected {% endif%} value = ''> Select Type</option>
            {% for typ in type%} 
            <option value={{typ.name}} {%if selected_type == typ.name%} selected {%endif%}>{{typ.name}}  
            </option>
            {% endfor %}
        </select>

            <label for="groups"><b>group</b></label>
            <select id="type" name="group">
                <option {% if selected_group == ''%} selected {% endif%} value = ''> Select Group</option>
                {% for group in groups%} 
                <option value={{group.name}} {%if selected_type == group.name%} selected {%endif%}>{{group.name}}  
            </option>
            {% endfor %}
        </select>
        <input type = 'submit' name = 'Search'/>
      
        <table border = '1'>
            <tr>
                <th>Title</th>
                <th>Author</th>
                <th>Co_author</th>
                <th>Description</th>
                <th>View</th>
               
            </tr>
            {% for paper in papers%}
            <tr> 
                <td>{{paper.title}}</td>
                <td>{{paper.author}}</td>
                <td>{{paper.co_author}}</td>
                <td>{{paper.description}}</td>
                <td><a href = '{{ paper.publication.url }}'> download </a></td>
             
            </tr>
            {% endfor%}
        </table>
    </center>
</body>
{%endblock%}